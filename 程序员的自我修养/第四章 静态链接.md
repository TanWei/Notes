### 4.1 空间与地址分配
链接方式：按序叠加（字节对齐，空间浪费）；相似段合并；<br/>
<font color='red'>虚拟地址空间在链接后确定</font><br/>
两步链接：<br/>
第一步：空间与地址分配。...将输入目标文件中的符号表中的所有符号定义和符号引用收集起来，放到一个全局符号表中...<br/>
第二步：符号解析与重定位。...符号解析与重定位、调整代码地址。第二步是核心，特别是重定位过程。<br/>
### 4.2 重定位表
重定位表也可以叫做重定位段<br/>
“.text”段对应的“.rel.text”,“.data”段对应的“.rel.data”<br/>
### 4.3 common块
链接器不知道符号类型。都是强符号违法；强弱符号同时存在使用强符号，如果强符号所占空间小于弱符号，编译器发出警告；都是弱符号时，使用空间最大的那一个。<br/>
未初始化的全局变量链接前无法在bss段分配空间，而是将其标记为一个common变量。未初始化的局部静态变量可以在bss段直接分配空间。
### 4.4
重复代码消除：模板、外部内联函数、虚函数表。<br/>
链接前放到一个特殊的段里，链接时消除。<br/>
函数级别链接：编译选项，删除没用到的函数，缺点：导致编译变慢。<br/>
.init段  .fini段  main函数之前和之后执行。<br/>
### 4.5
一个静态库可以简单的看成一组目标文件的集合<br/>
### 4.6链接控制脚本
链接器控制链接的三种方法：<br/>
命令行参数  ld -o -e参数；链接指令放到目标文件段里，如Windows的PE文件放在.drectve段；使用链接控制脚本。<br/>
脚本扩展名：windwos的def，ld的.script<br/>
带有C/C++表达式的内联汇编格式为:<br/>
__asm__ __volatile__("Instruction List" : Output : Input : Clobber/Modify);


